#!/bin/bash

#VARS
EXEC="./push_swap"

if [ -f $EXEC ]; then
	echo ""
else
	echo "push_swap not founded"
	exit 1
fi

Identity_Test(){
	echo "Push_swap - Identity Test"
Identity_Test(){
    echo "Push_swap - Identity Test"

    for INPUT in "42" "2 3" "1 2 3 4 5 6 7 8 9" "2 3 4 5 6 7" "0 1 2 3 4" "100 200 300 400 500 600 700 800"
    do
		RES=$($EXEC $INPUT | wc -l)
        #sleep 0.10
        if [ "${RES}" -eq 0 ]; then
            echo -e "\033[0;32mOK!\033[0m"
        else
            echo -e "\033[0;31mKO!\033[0m"
		fi
	done
}

Error_management(){
	echo "Error management"
	
INPUT="1 2 1"
RES=$($EXEC $INPUT 2>&1)
	if [ "${RES}" = "Error" ]; then
		echo -e "\033[0;32mOK!\033[0m"
	else
		echo -e "\033[0;31mKO!\033[0m"
	fi

INPUT="1 2 g 1"
RES=$($EXEC $INPUT 2>&1)
	if [ "${RES}" = "Error" ]; then
		echo -e "\033[0;32mOK!\033[0m"
	else
		echo -e "\033[0;31mKO!\033[0m"
	fi

INPUT="s"
RES=$($EXEC $INPUT 2>&1)
	if [ "${RES}" = "Error" ]; then
		echo -e "\033[0;32mOK!\033[0m"
	else
		echo -e "\033[0;31mKO!\033[0m"
	fi

INPUT="1 dog 3"
RES=$($EXEC $INPUT 2>&1)
	if [ "${RES}" = "Error" ]; then
		echo -e "\033[0;32mOK!\033[0m"
	else
		echo -e "\033[0;31mKO!\033[0m"
	fi

INPUT="1 3 gildo"
RES=$($EXEC $INPUT 2>&1)
	if [ "${RES}" = "Error" ]; then
		echo -e "\033[0;32mOK!\033[0m"
	else
		echo -e "\033[0;31mKO!\033[0m"
	fi

INPUT="a 4 5"
RES=$($EXEC $INPUT 2>&1)
	if [ "${RES}" = "Error" ]; then
		echo -e "\033[0;32mOK!\033[0m"
	else
		echo -e "\033[0;31mKO!\033[0m"
	fi

INPUT="- 1 3"
RES=$($EXEC $INPUT 2>&1)
	if [ "${RES}" = "Error" ]; then
		echo -e "\033[0;32mOK!\033[0m"
	else
		echo -e "\033[0;31mKO!\033[0m"
	fi

INPUT="1 - 4"
RES=$($EXEC $INPUT 2>&1)
	if [ "${RES}" = "Error" ]; then
		echo -e "\033[0;32mOK!\033[0m"
	else
		echo -e "\033[0;31mKO!\033[0m"
	fi

INPUT="4 -- 6"
RES=$($EXEC $INPUT 2>&1)
	if [ "${RES}" = "Error" ]; then
		echo -e "\033[0;32mOK!\033[0m"
	else
		echo -e "\033[0;31mKO!\033[0m"
	fi

INPUT="4 4- 3"
RES=$($EXEC $INPUT 2>&1)
	if [ "${RES}" = "Error" ]; then
		echo -e "\033[0;32mOK!\033[0m"
	else
		echo -e "\033[0;31mKO!\033[0m"
	fi

INPUT="1 --2 1"
RES=$($EXEC $INPUT 2>&1)
	if [ "${RES}" = "Error" ]; then
		echo -e "\033[0;32mOK!\033[0m"
	else
		echo -e "\033[0;31mKO!\033[0m"
	fi

INPUT="1 2 --"
RES=$($EXEC $INPUT 2>&1)
	if [ "${RES}" = "Error" ]; then
		echo -e "\033[0;32mOK!\033[0m"
	else
		echo -e "\033[0;31mKO!\033[0m"
	fi

INPUT="1 2 -z"
RES=$($EXEC $INPUT 2>&1)
	if [ "${RES}" = "Error" ]; then
		echo -e "\033[0;32mOK!\033[0m"
	else
		echo -e "\033[0;31mKO!\033[0m"
	fi

INPUT="1 2 +r"
RES=$($EXEC $INPUT 2>&1)
	if [ "${RES}" = "Error" ]; then
		echo -e "\033[0;32mOK!\033[0m"
	else
		echo -e "\033[0;31mKO!\033[0m"
	fi

INPUT="1 2 ++"
RES=$($EXEC $INPUT 2>&1)
	if [ "${RES}" = "Error" ]; then
		echo -e "\033[0;32mOK!\033[0m"
	else
		echo -e "\033[0;31mKO!\033[0m"
	fi

INPUT="1 2 666666666666666666666666666666666666"
RES=$($EXEC $INPUT 2>&1)
	if [ "${RES}" = "Error" ]; then
		echo -e "\033[0;32mOK!\033[0m"
	else
		echo -e "\033[0;31mKO!\033[0m"
	fi

INPUT="77777777777777777777777777 2 1"
RES=$($EXEC $INPUT 2>&1)
	if [ "${RES}" = "Error" ]; then
		echo -e "\033[0;32mOK!\033[0m"
	else
		echo -e "\033[0;31mKO!\033[0m"
	fi

INPUT="1 2 -888888888888888888888888888888888888"
RES=$($EXEC $INPUT 2>&1)
	if [ "${RES}" = "Error" ]; then
		echo -e "\033[0;32mOK!\033[0m"
	else
		echo -e "\033[0;31mKO!\033[0m"
	fi

INPUT="1 2 7 5 8 2 0"
RES=$($EXEC $INPUT 2>&1)
	if [ "${RES}" = "Error" ]; then
		echo -e "\033[0;32mOK!\033[0m"
	else
		echo -e "\033[0;31mKO!\033[0m"
	fi

INPUT="1 2 0 3 4 5 7 1 56 39"
RES=$($EXEC $INPUT 2>&1)
	if [ "${RES}" = "Error" ]; then
		echo -e "\033[0;32mOK!\033[0m"
	else
		echo -e "\033[0;31mKO!\033[0m"
	fi

INPUT="1 2 3 4 5 6 7 8 9 0+ d"
RES=$($EXEC $INPUT 2>&1)
	if [ "${RES}" = "Error" ]; then
		echo -e "\033[0;32mOK!\033[0m"
	else
		echo -e "\033[0;31mKO!\033[0m"
	fi

INPUT="   "
RES=$($EXEC $INPUT 2>&1)
	if [ "${RES}" = "Error" ]; then
		echo -e "\033[0;32mOK!\033[0m"
	else
		echo -e "\033[0;31mKO!\033[0m"
	fi

INPUT=""
RES=$($EXEC $INPUT 2>&1)
	if [ "${RES}" = "Error" ]; then
		echo -e "\033[0;32mOK!\033[0m"
	else
		echo -e "\033[0;31mKO!\033[0m"
	fi
}

Identity_Test
Error_management